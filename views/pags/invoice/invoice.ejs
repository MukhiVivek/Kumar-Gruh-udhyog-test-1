<% layout('/layout/boilerplate.ejs') -%>

<body>    
    <form action="/invoice/invoice" method="post">
    <div class="border invoice-box">
        <div>
            <div class="invoice-header row">
                <div class="border-bottom col-4">
                    <div class="border-bottom cha mb-4 mt-2">
                        <h4 >Bill To </h4>

                        <button class="btn btn-secondary btttn " id="openModalBtn" type="button" >Change Customer </button>
                    </div>
                    <div class="mb-5">
                         <p  id="customerDisplay2">Customer Name : </p>
                        <div id="customer_phone_number2"> Phone Number :</div>
                    </div>
                </div>
                <div class="border  col-4">
                    <h4 class="border-bottom kks ">Ship To</h4>
                    <p  id="customerDisplay">Customer Name : </p>
                    <div id="customer_phone_number"> Phone Number :</div>
                </div>
                <div class="border-bottom col-4">
                    <div class="mt-5">Sales Invoice No: <input type="text" name="data[invoice_number]" value="<%= nextInvoice + 1%>"></div>
                    <div>Sales Invoice Date: <input type="date" name="data[date]" value="<%= formattedDate%>"></div>
                </div>
            </div>
        </div>

        <div class="tables">
            <table class="table table-bordered invoice-table">
                <thead>
                    <tr>
                        <th>No</th>
                        <th class="itemsss">Items</th>
                        <th>QTY</th>
                        <th>Price/Item (₹)</th>
                        <th>Amount (₹)</th>
                        <th><i class="fas fa-plus-circle"></i></th>
                    </tr>
                </thead>
                <tbody id="item-rows">
                    <tr class="item-row">
                        <td> 1 </td>
                        <td><input type="text" name="data[item_name]"  class="form-control item-name" placeholder="Item Name" required>                       </td></div>
                        <td><input type="number" step="0.001" name="data[qty]" class="form-control qty" placeholder="Qty" required></td>
                        <td><input type="number" step="0.001" name="data[item_price]" class="form-control price item-price" placeholder="Selling Price" required></td>
                        <td><input type="number" step="0.001" name="data[amount]"  class="form-control amount" placeholder="Amount" readonly required></td>
                        <td><i class="fas fa-trash text-danger delete-row" style="cursor: pointer;"></i></td>
                    </tr>
                </tbody>
            </table>
            <div class="btn-add-item mb-3">
                <i class="fas fa-plus"></i> Add Item
            </div>
            <table class="table table-bordered invoice-table ttreee">
                <thead>
                    <tr>
                       <th class="subtotal">SUBTOTAL</th>
                       <th ><input type="number" name="data[subtotal]" step="0.001" class="form-control subtotal" id="subtotal"  placeholder="0" > </th>
                    </tr>
                </thead>
            </table>
        </div>

       <div > 
        <input type="text"  name="data[customers]" id="customer_id_input">
       </div>
        
        <div class="text-center mb-3">
            <button class="btn btn-primary">Download Invoice</button>
        </div>
    </form>


    <div id="myModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <div id="search-container">
                <input type="text" class="form-control" id="searchBar" placeholder="Search customer Name...">
                <div id="suggestions"></div>
            </div>
        </div>
    </div>
    
    

    </div>
</body>